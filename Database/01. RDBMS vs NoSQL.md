# RDBMS와 NoSQL

## RDB(Relational Database)

* `RDB`는 키(key)와 값(value)들의 간단한 관계를 테이블화 시킨 매우 간단한 원칙의 전산정보 데이터베이스이다.

* 관계 데이터베이스 모델의 주요 이점은 직관적인 데이터 표현 방법을 제공하고 관련 데이터 포인트에 쉽게 접근할 수 있다는 점이다.

### **`RDB`의 장점**

  * 정형화된 데이터를 저장하기 때문에 데이터의 형태와 크기를 **미리 정하고 테이블 단위로 구분**하여 데이터를 저장할 수 있다.

  * 트랜잭션을 통해 **ACID** (원자성, 일관성, 격리성, 지속성)를 보증하여 안정적인 데이터 관리가 가능하다.

  * 조인을 포함해 **복잡한 조건을 포함하는 데이터 검색이 가능**하다. (**복잡한 질의 처리 가능**)

  * 데이터베이스 정규화 : 관계 데이터베이스는 **데이터 중복성을 줄이고 데이터 무결성을 개선하는 `정규화`라는 설계 기법을 사용**한다.

## RDBMS(Relational Database Management System)

* `RDBMS`란 행과 열을 가지는 테이블 형태의 데이터를 저장하는 데이터베이스를 가리키며 `SQL`이라는 언어를 써서 조작한다.

* `RDBMS`는 데이터의 중복을 최소화하고 구조 변경이 쉽고 SQL 언어를 사용하여 데이터를 쉽게 조작할 수 있는 장점이 있다.

* `RDBMS`의 경우 표준 SQL은 지키기는 하지만, 각각의 제품에 특화시킨 `SQL`을 사용한다.

* RDBMS 종류에는 `MySQL`, `Oracle`, `Microsoft SQL Server`, `MariaDB`, `DB2` 등이 있다.

## RDBMS 종류

### **Oracle (오라클)**

  ![oracle](https://github.com/monghwadang/2024-CS-Study/assets/156163400/f1080e26-cc87-4d96-99cb-f8f8d3a5b90b)

  * 전세계적으로 가장 많이 활용되는 `RDBMS`
  
  * 오라클사에서 서비스하고 있으며 Unix, Linux, Windows 등의 대부분의 OS를 지원

  * Oracle Real Application Clusters(RAC)의 기능으로 데이터베이스 관리에 있어서 자원의 확장성과 장애에 대한 대처가 유연하다는 장점이 있다.

  * 중견기업, 대기업 등 대형화된 데이터를 관리하기에 최적화되어 있다.

### **Microsoft SQL Server (Microsoft)**

  ![MSSQL](https://github.com/monghwadang/2024-CS-Study/assets/156163400/a6a5adf0-520d-4f4c-a80f-2a378c20ecf6)

  * 마이크로소프트(MS)사의 대표적인 관계형 데이터베이스 시스템

  * `MSSQL` 혹은 `SQL Server`로 불린다.

  * MS 제품군이기 때문에 Window Server에서만 구동이 되고 `C#`과는 가장 높은 호환성을 자랑하는 `DBMS`이다.

### **MySQL (오라클)**

  ![MySQL](https://github.com/monghwadang/2024-CS-Study/assets/156163400/af5aad85-5d65-4876-9617-503aeda3f64e)

  * 썬 마이크로시스템즈에서 개발한 `RDBMS` (-> 오라클이 인수)

  * Unix, Linux, Windows 운영 체제 등에서 사용할 수 있으며, 무엇보다 오픈소스의 장점으로 많은 기업에서 홈페이지나 쇼핑몰 등 일반적인 웹개발에 널리 이용되고 있다.

  * 메인 제품인 Oracle DB에 비해 사용자 편의를 위한 기능, 사용자 실수 또는 재해에 대비한 기능, 성능 향상 등 기능적인 한계가 있다.

  * 그래도 대중화된 오픈소스이기 때문에 현재 많은 기업에서 활용하고 있다.

### **MariaDB (MariaDB 재단)**

  ![MariaDB](https://github.com/monghwadang/2024-CS-Study/assets/156163400/d4e2a7dc-9592-4a4d-823b-037493f27139)

  * 비교적 역사가 짧은 최신 `DBMS`이다.

  * MySQL과 완벽하게 호환되며 기본적인 명령어나 사용방법까지 동일하기 때문에 개발자 또는 DBA가 쉽게 접할 수 있다.

  * MySQL에 비해 성능적인 부분에서는 70%나 향상이 되었기 때문에 이를 활용하는 기업들이 많이 늘어나는 추세이다.

### **DB2 (IBM)**

  ![DB2](https://github.com/monghwadang/2024-CS-Study/assets/156163400/a5e4f1f3-3fef-4ffe-a04b-b4d214efedeb)

  * 대형화된 데이터 관리를 목적으로 만들어진 IBM의 `RDBMS`

  * 사용자들이 서로 관계된 여러 개의 데이터베이스를 동시에 접근할 수 있다.

  * DB2의 특징은 각 워크로드(업무)의 특성에 맞게 시스템일 최적화될 수 있으며, 자가 최적화, 자가 치유, 자가 구성, 워크로드 관리, 확장된 자동화 기능 등 다양한 기능을 구현할 수 있다.

  * 또한 데이터 압축 기술이 좋기 때문에 대형화된 데이터를 다루는데 최적화 될 수 있다는 장점이 있다. 때문에 많은 중견기업, 대기업에서 DB2를 활용하고 있다.

## NoSQL(Not only SQL)

* 웹이 기하급수적으로 성장하면서, 이미지, 동영상 같은 멀티미디어 데이터뿐 아니라, SNS를 통해 작성되는 자유로운 형태의 텍스트와 로그 기록같은 **비정형 데이터** 가 빠른 속도로 대량 생산되고 있다.

* 이런 환경에서 관계 데이터베이스의 장점을 유지하면 **엄청나게 많은 비용이 든다**.

* 단일 컴퓨터 환경에서 주로 사용되는 관계 데이터베이스는 여러 컴퓨터가 연결되어 하나의 시스템을 구성하는 클러스터 환경에서 효율적으로 동작하도록 설계되지 않았다는 문제점도 지니고 있다.

* 이러한 웹에서 **대량의 비정형 데이터의 저장과 처리를 위해** 관계 데이터베이스를 대신할 새로운 대안으로 제시한 것이 `NoSQL`이다.

* 실제로 **소셜 네트워크 서비스를 제공하는 기업**들을 중심으로 NoSQL 관련 기술이 발전해왔다.

## NoSQL 특징

* NoSQL은 **빠른 속도로 생성되는 대량의 비정형 데이터를 저장하고 처리하기 위해** ACID를 위한 트랜잭션 기능을 제공하지 않는 대신, **저렴한 비용으로 여러 대의 컴퓨터에 데이터를 분산,저장,처리하는 것이 가능**한 데이터베이스다.

* 더 융통성 있는 데이터 모델을 사용하고 스키마 없이 동작하기 때문에 **데이터 구조를 미리 정의할 필요가 없고**, 수시로 그 구조를 바꿀 수 있어서 비정형 데이터를 저장하기에 적합하여 대부분 **오픈 소스**로 제공된다.

* 이처럼 NoSQL은 엄청난 속도로 대량 생산되는 빅데이터를 처리하기 위해, 관계 데이터 모델을 고집하지 않고 미리 정의된 스키마를 사용하지 않는 대신 **클러스터 환경에 맞는 데이터베이스를 만들기 위해 노력해온 결과물**이라 할 수 있다.

* NoSQL을 관계 데이터베이스의 **경쟁자로 볼 필요는 없다**. 관계 데이터베이스와 NoSQL의 **사용 목적이 다르기 때문에** NoSQL이 관계 데이터베이스를 완전히 대체하기는 어렵다.

* `관계 데이터베이스`는 트랜잭션을 통해 일관성을 유지하고 외래키로 테이블 간의 관계를 표현함으로써 조인과 같은 복잡한 질의를 처리할 수 있지만 빠른 속도로 증가하는 대량의 비정형 데이터를 저장하기에는 **확장성 측면에서 비효율적이다**.

* `NoSQL`은 트랜잭션 기능을 제공하지 않고 정해진 스키마도 없기 때문에 자유롭게 구조를 바꾸며 대량의 비정형 데이터를 빠르게 저장하고 처리할 수 있다. 하지만 **데이터 마이닝과 같은 별도의 분석 기술을 적용**해 숨겨진 의미를 찾아내야 한다.

## NoSQL 저장 기술

![NoSQL](https://github.com/monghwadang/2024-CS-Study/assets/156163400/f4b441cf-8098-4e8b-9539-b2ce64578311)

### **Document Database**

![https://blog.kakaocdn.net/dn/byD6W9/btr1XyuFSbt/23AUE5BkLes965xEfUnmYk/img.png](https://blog.kakaocdn.net/dn/byD6W9/btr1XyuFSbt/23AUE5BkLes965xEfUnmYk/img.png)

* Key/Value 즉 1번의 확장된 형태로, value에 Document라는 타입을 저장한다. Document는 구조화된 문서 데이터(XML, Json,Yaml 등)을 말한다.

* 복잡한 데이터 구조를 표현가능하다.

* 주요한 특징으로는 객체-관계 매핑이 필요하지 않다. 객체를 Document의 형태로 바로 저장 가능하기 떄문이다.

* 단점이라면 사용이 번거롭고 쿼리가 SQL과 다르다. 도큐먼트 모델에서는 질의의 결과가 JSON이나 XML 형태로 출력되기 때문에 그 사용 방법이 RDBMS에서의 질의 결과를 사용하는 방법과 다르다.

* 대표적인 Model로는 , CouthDB 등이 있다.

### **Key-Value Database**

![https://blog.kakaocdn.net/dn/bbXQ7T/btr1XPQucTl/nkH7tmWhZKxPmlHY0T95UK/img.png](https://blog.kakaocdn.net/dn/bbXQ7T/btr1XPQucTl/nkH7tmWhZKxPmlHY0T95UK/img.png)

* **데이터가 Key와 Value에 접근하는 구조**

* 단순한 저장구조를 가지며, 복잡한 조회 연산을 지원하지 않는다.

* Key 값은 어떠한 형태의 데이터라도 담을 수 있다. 이미지나 비디오도 가능하다.

* 또한 간단한 API를 제공하는 만큼 질의의 속도가 굉장히 빠른 편이다.

* 대표적인 Model로는 , Riak, Amazon Dynamo DB 등이 있다.

### **Wide Column Database**

![https://blog.kakaocdn.net/dn/cdSceO/btr2GKudvRe/mkeK4wrN1rjRcwJc2fcKS1/img.png](https://blog.kakaocdn.net/dn/cdSceO/btr2GKudvRe/mkeK4wrN1rjRcwJc2fcKS1/img.png)

* 이전의 모델들이 Key-Value 값을 이용해 필드를 결정했다면, 특이하게도 이 모델은 키에서 필드를 결정한다. 키는 Row(키 값)와 Column-family, Column-name을 가진다. 연관된 데이터들은 같은 Column-family 안에 속해 있으며, 각자의 Column-name을 가진다. 관계형 모델로 설명하자면 어트리뷰트가 계층적인 구조를 가지고 있는 셈이다. 이렇게 저장된 데이터는 하나의 커다란 테이블로 표현이 가능하며, 질의는 Row, Column-family, Column-name을 통해 수행된다.

* 대표적인 Model로는 HBase, Hypertable 등이 있다.

### **Graph Database**

![https://blog.kakaocdn.net/dn/bTtuGZ/btr2CvLJDUB/9RJDWyG0plaeqmSlFqsQ71/img.webp](https://blog.kakaocdn.net/dn/bTtuGZ/btr2CvLJDUB/9RJDWyG0plaeqmSlFqsQ71/img.webp)

* Graph Model에서는 데이터를 Node와 Edge, Porperty와 함께 그래프 구조를 사용하여 데아터를 표현하고 저장하는 Database이다.

* 개체와 관계를 그래프 형태로 표현한 것이므로 관계형 모델이라고 할 수 있으며, 데이터 간의 관계가 탐색의 키일 경우에 적합하다.

* 페이스북이나 트위터 같은 소셜 네트워크에서(내 친구의 친구를 찾는 질의 등) 적합하고, 연관된 데이터를 추천해주는 추천 엔진이나 패턴 인식 등의 데이터베이스로도 적합하다.

* 대표적인 Model로는 Neo4J가 있다.

## NoSQL 종류

### **MongoDB**

![mongDBS](https://github.com/monghwadang/2024-CS-Study/assets/156163400/e9afb6fb-e6be-4547-8235-0ff61c4c5097)

* `MongoDB`는 JSON을 통해 데이터에 접근할 수 있고, Binary JSON 형태(BSON)로 데이터가 저장되며 와이어드타이거 엔진이 기본 스토리지 엔진으로 장착된 **키-값 데이터 모델에서 확장된 도큐먼트 기반의 데이터베이스**이다.

* 확장성이 뛰어나며 빅데이터를 저장할 때 성능이 좋고 고가용성과 샤딩, 레플리카셋을 지원한다.

* 또한 스키마를 정해 놓지 않고 데이터를 삽입할 수 있기 때문에 다양한 도메인의 데이터베이스를 기반으로 분석하거나 로깅 등을 구현할 때 강점을 보인다.

* 그리고 MongoDB는 도규먼트를 생성할 때마다 다른 컬렉션에서 중복된 값을 지니기 힘든 유니크한 값인 `ObjectID`가 생성된다.

  * 이는 기본키로 유닉스 시간 기반의 타임스탬프(4바이트), 랜덤 값(5바이트), 카운터(3바이트)로 이루어져 있다.

### **Redis**

![redis](https://github.com/monghwadang/2024-CS-Study/assets/156163400/61b29906-ceac-4966-b2dd-a00b8a8f725b)

* `Redis`는 인메모리 데이터베이스자 키-값 데이터 모델 기반의 데이터베이스이다.

* 기본적인 데이터 타입은 문자열(string)이며 최대 512MB까지 저장할 수 있다. 이외에도 Set, Hash 등을 지원한다.

* Pub/Sub 기능을 통해 채팅 시스템, 다른 데이터베이스 앞단에 두어 사용하는 캐싱 계층, 단순한 키-값이 필요한 세션 정보 관리, 정렬된 Set 자료 구조를 이용한 실시간 순위표 서비스에 사용한다.

## RDBMS vs NoSQL

![RDBMSvsNoSQL](https://github.com/monghwadang/2024-CS-Study/assets/156163400/2bb58c8e-e114-474b-a216-40078c9bccaa)

* 관계 데이터베이스와 NoSQL 중에 무엇을 선택해야 할지 고민한다면 자신이 데이터베이스를 사용하는 업무 환경과 역량에 가장 적합한 것을 고르면 된다고 조언하고 싶다.

* 즉, **저장될 데이터의 형태와 처리목적에 더 적합**한 것을 선택하면 된다.

* `RDBMS`는 기업의 인사, 회계 자료와 같이 **일관성이 중요하고 조인과 같이 복잡한 질의 처리가 필요**한 정형화된 데이터를 관리하는 용도일 때 더 적합하다.

* `NoSQL`은 **SNS**를 통해 양산되는 이미지와 텍스트 데이터, **CCTV**를 통해 촬영되는 영상들, 센싱 데이터와 같이 빠른 속도로 엄청난 양이 생성되지만 수정보다는 **삽입 연산 위주의 데이터를 저장하고 관리하는 용도**일 때 더 적합하다.

### **RDBMS vs NoSQL 특징**

|구분|RDBMS|NoSQL|
|----|----|----|
|처리 데이터|정형 데이터|정형 데이터, 비정형 데이터|
|대용량 데이터|대용량 처리 시 성능 저하|대용량 데이터 처리 지원|
|스키마|미리 정해진 스키마가 존재|스키마가 없거나 변경이 자유로움|
|트랜잭션|트랜잭션을 통해 일관성 유지를 보장함|트랜잭션을 지원하지 않아 일관성 유지를 보장하기 어려움|
|검색 기능|조인 등의 복잡한 검색 기능 제공|단순한 데이터 검색 기능 제공|
|확장성|클러스터 환경에 적합하지 않음|클러스터 환경에 적합함|
|라이선스|고가의 라이선스 비용|오픈소스|
|대표적 사례|MySQL, PostgreSQL, Oracle, Microsoft SQL Server, MariaDB|MongoDB, Redis|

### **RDBMS vs NoSQL 장단점**

|구분|RDBMS|NoSQL|
|----|----|----|
|장점|명확한 데이터 구조 보장|자유로운 데이터 구조|
||데이터 중복 없이 한 번만 저장|데이터 조정 및 필드 추가 용이|
|||데이터 분산 용이 및 Scale-up (업그레이드), Scale-out (장비 추가) 등 다양한 성능 향상 방법|
||||
|단점|테이블간 관계로 인한 JOIN문으로 복잡한 쿼리 및 검색 기능|데이터 중복 가능성 및 중복 데이터 변경 시 모든 컬렉션에서 수행|
||성능 향상 방법 Scale-up 뿐이라 비용 부담|명확한 데이터 구조를 보장하지 않음|
||유연하지 못한 데이터||
